var A=(a,t,s)=>{if(!t.has(a))throw TypeError("Cannot "+s)};var o=(a,t,s)=>(A(a,t,"read from private field"),s?s.call(a):t.get(a)),p=(a,t,s)=>{if(t.has(a))throw TypeError("Cannot add the same private member more than once");t instanceof WeakSet?t.add(a):t.set(a,s)},f=(a,t,s,e)=>(A(a,t,"write to private field"),e?e.call(a,s):t.set(a,s),s);var b=(a,t,s)=>(A(a,t,"access private method"),s);import{b as q}from"./QBtn.1a58b437.js";import{u as j,a as R}from"./useQuery.656b1ab9.js";import{g as k}from"./mutation.c459c217.js";import{S as K,v as T,k as D,a as Q,w as V,x as B,l as $}from"./utils.2a1a26af.js";import{c as G,E as H,x as M,$ as L,a0 as P,a1 as W,m as U,g as J,d as z,a2 as X,y as Y,V as Z,F as tt,o as S,a3 as w,W as x,f as st,u as E,t as I,j as et,a4 as at}from"./index.40d8058b.js";import{M as ot,R as nt,W as it,S as rt,A as ut}from"./container.action.6541de47.js";import"./use-router-link.82237dc1.js";import"./render.a364be2b.js";var m,d,r,l,g,C,O,N,F,ct=(F=class extends K{constructor(t,s){super();p(this,g);p(this,O);p(this,m,void 0);p(this,d,void 0);p(this,r,void 0);p(this,l,void 0);f(this,d,void 0),f(this,m,t),this.setOptions(s),this.bindMethods(),b(this,g,C).call(this)}bindMethods(){this.mutate=this.mutate.bind(this),this.reset=this.reset.bind(this)}setOptions(t){var e;const s=this.options;this.options=o(this,m).defaultMutationOptions(t),T(s,this.options)||o(this,m).getMutationCache().notify({type:"observerOptionsUpdated",mutation:o(this,r),observer:this}),(e=o(this,r))==null||e.setOptions(this.options),(s==null?void 0:s.mutationKey)&&this.options.mutationKey&&D(s.mutationKey)!==D(this.options.mutationKey)&&this.reset()}onUnsubscribe(){var t;this.hasListeners()||(t=o(this,r))==null||t.removeObserver(this)}onMutationUpdate(t){b(this,g,C).call(this),b(this,O,N).call(this,t)}getCurrentResult(){return o(this,d)}reset(){var t;(t=o(this,r))==null||t.removeObserver(this),f(this,r,void 0),b(this,g,C).call(this),b(this,O,N).call(this)}mutate(t,s){var e;return f(this,l,s),(e=o(this,r))==null||e.removeObserver(this),f(this,r,o(this,m).getMutationCache().build(o(this,m),this.options)),o(this,r).addObserver(this),o(this,r).execute(t)}},m=new WeakMap,d=new WeakMap,r=new WeakMap,l=new WeakMap,g=new WeakSet,C=function(){var s,e;const t=(e=(s=o(this,r))==null?void 0:s.state)!=null?e:k();f(this,d,{...t,isPending:t.status==="pending",isSuccess:t.status==="success",isError:t.status==="error",isIdle:t.status==="idle",mutate:this.mutate,reset:this.reset})},O=new WeakSet,N=function(t){Q.batch(()=>{var s,e,c,n,y,_,v,u;if(o(this,l)&&this.hasListeners()){const i=o(this,d).variables,h=o(this,d).context;(t==null?void 0:t.type)==="success"?((e=(s=o(this,l)).onSuccess)==null||e.call(s,t.data,i,h),(n=(c=o(this,l)).onSettled)==null||n.call(c,t.data,null,i,h)):(t==null?void 0:t.type)==="error"&&((_=(y=o(this,l)).onError)==null||_.call(y,t.error,i,h),(u=(v=o(this,l)).onSettled)==null||u.call(v,void 0,t.error,i,h))}this.listeners.forEach(i=>{i(o(this,d))})})},F);function ht(a,t){const s=t||j(),e=G(()=>s.defaultMutationOptions($(a))),c=new ct(s,e.value),n=H(c.getCurrentResult()),y=c.subscribe(u=>{V(n,u)}),_=(u,i)=>{c.mutate(u,i).catch(()=>{})};M(e,()=>{c.setOptions(e.value)}),W(()=>{y()});const v=L(P(n));return M(()=>n.error,u=>{if(u&&B(e.value.throwOnError,[u]))throw u}),{...v,mutate:_,mutateAsync:n.mutate,reset:n.reset}}const dt=async a=>{var n;const t=J(),s=U("SHADE");var e=await s.hunt(ot,{idx:"vsg00",src:"indexCanvas",dat:{height:480}});e=await s.hunt(nt,{idx:"vsg00"}),e=await s.hunt(it,{idx:"can00",src:"vsg00"});var c=e.canBit.dat.bit;return e=await s.hunt(rt,{idx:"fce-can-00",src:"vsg00"}),e=await s.hunt(ut,{idx:"fce-can-00",dat:{bit:c}}),(n=t==null?void 0:t.proxy)==null||n.$forceUpdate(),a},lt=async a=>(console.log("sampleFunc:: ",a),U("SHADE"),a),mt={class:"q-pa-md q-gutter-sm"},pt={class:"full-height row wrap justify-start items-start content-start"},ft={key:0},yt={key:1},vt={key:2},bt=x("canvas",{id:"indexCanvas"},null,-1),gt=z({name:"GamePlay"}),Nt=Object.assign(gt,{setup(a){const t=async i=>await fetch("readNow/").then(h=>h.json()),s=async i=>await fetch("cool/").then(h=>h.json()),{isPending:e,isError:c,data:n,error:y}=R({queryKey:["dat"],queryFn:t,refetchInterval:1111});var v=R({queryFn:s,refetchInterval:1111}).data;const u=ht({mutationFn:t,onSuccess:()=>{queryClient.invalidateQueries({queryKey:["dat"]})}});return M(v,(i,h)=>{console.log(`Count changed from ${h} to ${i}`)}),X(()=>{console.log("DATA is: "+JSON.stringify(n))}),Y(async i=>{setInterval(()=>{console.log("mutate"),u.mutate({})},1111),dt("on")}),Z(async()=>{lt("on")}),tt(async()=>{}),(i,h)=>(S(),w(at,null,[x("div",mt,[st(q,{style:{background:"#FF0080",color:"white"},label:"Fuchsia"})]),x("div",pt,[E(e)?(S(),w("span",ft,"Loading...")):E(c)?(S(),w("span",yt,"Error: "+I(E(y).message),1)):E(n)?(S(),w("ul",vt,[x("pre",null,I(JSON.stringify(E(n),null,2)),1)])):et("",!0),bt])],64))}});export{Nt as default};
