import{c as u,g as E}from"./index.96dd897d.js";function C(e,r){typeof r.type=="symbol"?Array.isArray(r.children)===!0&&r.children.forEach(a=>{C(e,a)}):e.add(r)}function z(e){const r=new Set;return e.forEach(a=>{C(r,a)}),Array.from(r)}function K(e){return e.appContext.config.globalProperties.$router!==void 0}function L(e){return e?e.aliasOf?e.aliasOf.path:e.path:""}function P(e,r){return(e.aliasOf||e)===(r.aliasOf||r)}function N(e,r){for(const a in r){const t=r[a],l=e[a];if(typeof t=="string"){if(t!==l)return!1}else if(Array.isArray(l)===!1||l.length!==t.length||t.some((g,d)=>g!==l[d]))return!1}return!0}function $(e,r){return Array.isArray(r)===!0?e.length===r.length&&e.every((a,t)=>a===r[t]):e.length===1&&e[0]===r}function j(e,r){return Array.isArray(e)===!0?$(e,r):Array.isArray(r)===!0?$(r,e):e===r}function q(e,r){if(Object.keys(e).length!==Object.keys(r).length)return!1;for(const a in e)if(j(e[a],r[a])===!1)return!1;return!0}const D={to:[String,Object],replace:Boolean,exact:Boolean,activeClass:{type:String,default:"q-router-link--active"},exactActiveClass:{type:String,default:"q-router-link--exact-active"},href:String,target:String,disable:Boolean};function H({fallbackTag:e,useDisableForRouterLinkProps:r=!0}={}){const a=E(),{props:t,proxy:l,emit:g}=a,d=K(a),h=u(()=>t.disable!==!0&&t.href!==void 0),O=r===!0?u(()=>d===!0&&t.disable!==!0&&h.value!==!0&&t.to!==void 0&&t.to!==null&&t.to!==""):u(()=>d===!0&&h.value!==!0&&t.to!==void 0&&t.to!==null&&t.to!==""),f=u(()=>O.value===!0?A(t.to):null),i=u(()=>f.value!==null),y=u(()=>h.value===!0||i.value===!0),S=u(()=>t.type==="a"||y.value===!0?"a":t.tag||e||"div"),b=u(()=>h.value===!0?{href:t.href,target:t.target}:i.value===!0?{href:f.value.href,target:t.target}:{}),m=u(()=>{if(i.value===!1)return-1;const{matched:n}=f.value,{length:o}=n,s=n[o-1];if(s===void 0)return-1;const c=l.$route.matched;if(c.length===0)return-1;const v=c.findIndex(P.bind(null,s));if(v>-1)return v;const R=L(n[o-2]);return o>1&&L(s)===R&&c[c.length-1].path!==R?c.findIndex(P.bind(null,n[o-2])):v}),p=u(()=>i.value===!0&&m.value!==-1&&N(l.$route.params,f.value.params)),k=u(()=>p.value===!0&&m.value===l.$route.matched.length-1&&q(l.$route.params,f.value.params)),I=u(()=>i.value===!0?k.value===!0?` ${t.exactActiveClass} ${t.activeClass}`:t.exact===!0?"":p.value===!0?` ${t.activeClass}`:"":"");function A(n){try{return l.$router.resolve(n)}catch{}return null}function x(n,{returnRouterError:o,to:s=t.to,replace:c=t.replace}={}){if(t.disable===!0)return n.preventDefault(),Promise.resolve(!1);if(n.metaKey||n.altKey||n.ctrlKey||n.shiftKey||n.button!==void 0&&n.button!==0||t.target==="_blank")return Promise.resolve(!1);n.preventDefault();const v=l.$router[c===!0?"replace":"push"](s);return o===!0?v:v.then(()=>{}).catch(()=>{})}function V(n){if(i.value===!0){const o=s=>x(n,s);g("click",n,o),n.defaultPrevented!==!0&&o()}else g("click",n)}return{hasRouterLink:i,hasHrefLink:h,hasLink:y,linkTag:S,resolvedLink:f,linkIsActive:p,linkIsExactActive:k,linkClass:I,linkAttrs:b,getLink:A,navigateToRouterLink:x,navigateOnClick:V}}export{H as a,z as g,D as u,K as v};
