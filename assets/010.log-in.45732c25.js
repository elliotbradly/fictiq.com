import{Q as V}from"./QInput.9ba462e7.js";import{c as I,h as R}from"./render.0f74db1f.js";import{r as A,p as k,a4 as j,a5 as U,v as E,m as D,q as L,H as B,B as N,a6 as O,d as z,I as H,J,D as K,o as M,c as T,w as m,L as p,a as c,u as b,i as F}from"./index.01d7074a.js";import{a as G}from"./focus-manager.05708ea9.js";import{v as W}from"./use-router-link.0eb069a4.js";import{a as P,Q as X}from"./QCard.77a7321f.js";import{Q as Y}from"./QBtn.fea01da3.js";import{Q as Z}from"./QCardActions.cbdfaa22.js";import{Q as $}from"./QPage.850a15ba.js";import"./QSpinner.8b8c0486.js";import"./use-size.7aba2b5f.js";import"./use-dark.50ef5288.js";import"./use-form.d2ff1b8a.js";var ee=I({name:"QForm",props:{autofocus:Boolean,noErrorFocus:Boolean,noResetFocus:Boolean,greedy:Boolean,onSubmit:Function},emits:["reset","validationSuccess","validationError"],setup(i,{slots:f,emit:l}){const y=L(),u=A(null);let s=0;const o=[];function n(e){const d=typeof e=="boolean"?e:i.noErrorFocus!==!0,g=++s,q=(t,a)=>{l("validation"+(t===!0?"Success":"Error"),a)},C=t=>{const a=t.validate();return typeof a.then=="function"?a.then(r=>({valid:r,comp:t}),r=>({valid:!1,comp:t,err:r})):Promise.resolve({valid:a,comp:t})};return(i.greedy===!0?Promise.all(o.map(C)).then(t=>t.filter(a=>a.valid!==!0)):o.reduce((t,a)=>t.then(()=>C(a).then(r=>{if(r.valid===!1)return Promise.reject(r)})),Promise.resolve()).catch(t=>[t])).then(t=>{if(t===void 0||t.length===0)return g===s&&q(!0),!0;if(g===s){const{comp:a,err:r}=t[0];if(r!==void 0&&console.error(r),q(!1,a),d===!0){const Q=t.find(({comp:S})=>typeof S.focus=="function"&&W(S.$)===!1);Q!==void 0&&Q.comp.focus()}}return!1})}function _(){s++,o.forEach(e=>{typeof e.resetValidation=="function"&&e.resetValidation()})}function h(e){e!==void 0&&B(e);const d=s+1;n().then(g=>{d===s&&g===!0&&(i.onSubmit!==void 0?l("submit",e):e!==void 0&&e.target!==void 0&&typeof e.target.submit=="function"&&e.target.submit())})}function x(e){e!==void 0&&B(e),l("reset"),N(()=>{_(),i.autofocus===!0&&i.noResetFocus!==!0&&v()})}function v(){G(()=>{if(u.value===null)return;const e=u.value.querySelector("[autofocus][tabindex], [data-autofocus][tabindex]")||u.value.querySelector("[autofocus] [tabindex], [data-autofocus] [tabindex]")||u.value.querySelector("[autofocus], [data-autofocus]")||Array.prototype.find.call(u.value.querySelectorAll("[tabindex]"),d=>d.tabIndex>-1);e!=null&&e.focus({preventScroll:!0})})}k(O,{bindComponent(e){o.push(e)},unbindComponent(e){const d=o.indexOf(e);d>-1&&o.splice(d,1)}});let w=!1;return j(()=>{w=!0}),U(()=>{w===!0&&i.autofocus===!0&&v()}),E(()=>{i.autofocus===!0&&v()}),Object.assign(y.proxy,{validate:n,resetValidation:_,submit:h,reset:x,focus:v,getValidationComponents:()=>o}),()=>D("form",{class:"q-form",ref:u,onSubmit:h,onReset:x},R(f.default))}});const te={class:"column"},oe=p("div",{class:"row"},[p("h5",{class:"text-h5 text-white q-my-md generis-font text-primary"}," Fictiq ")],-1),ae={class:"row"},se=p("p",{class:"text-grey-6"},"Not reigistered? Created an Account",-1),ne=z({name:"Login Screen"}),he=Object.assign(ne,{setup(i){var f="email",l="password";A("style");const y=H();var u=s=>{y.push("/"+s)};return E(async s=>{}),J(async()=>{}),K(async()=>{}),(s,o)=>(M(),T($,{class:"bg-grey window-height window-width row justify-center items-center"},{default:m(()=>[p("div",te,[oe,p("div",ae,[c(X,{square:"",bordered:"",class:"q-pa-lg shadow-1 bg-black"},{default:m(()=>[c(P,null,{default:m(()=>[c(ee,{class:"q-gutter-md"},{default:m(()=>[c(V,{square:"",filled:"",clearable:"",modelValue:b(f),"onUpdate:modelValue":o[0]||(o[0]=n=>F(f)?f.value=n:f=n),type:"email",label:"email"},null,8,["modelValue"]),c(V,{square:"",filled:"",clearable:"",modelValue:b(l),"onUpdate:modelValue":o[1]||(o[1]=n=>F(l)?l.value=n:l=n),type:"password",label:"password"},null,8,["modelValue"])]),_:1})]),_:1}),c(Z,{class:"q-px-md"},{default:m(()=>[c(Y,{unelevated:"",color:"light-green-7",size:"lg",class:"full-width",label:"Login",onClick:o[2]||(o[2]=n=>b(u)("player"))})]),_:1}),c(P,{class:"text-center q-pa-none"},{default:m(()=>[se]),_:1})]),_:1})])])]),_:1}))}});export{he as default};
