var A=(a,t,s)=>{if(!t.has(a))throw TypeError("Cannot "+s)};var o=(a,t,s)=>(A(a,t,"read from private field"),s?s.call(a):t.get(a)),m=(a,t,s)=>{if(t.has(a))throw TypeError("Cannot add the same private member more than once");t instanceof WeakSet?t.add(a):t.set(a,s)},f=(a,t,s,e)=>(A(a,t,"write to private field"),e?e.call(a,s):t.set(a,s),s);var b=(a,t,s)=>(A(a,t,"access private method"),s);import{Q as F}from"./QBtn.fea01da3.js";import{u as k,a as N}from"./useQuery.ca1f6bc3.js";import{g as K}from"./mutation.3cf6def3.js";import{S as Q,v as T,k as R,a as j,w as V,x as B,l as L}from"./utils.60ad85db.js";import{k as G,C as H,s as M,U as J,V as P,W,h as q,q as $,d as X,X as z,v as Y,J as Z,D as tt,o as S,K as w,L as C,a as st,u as E,t as I,e as et,M as at}from"./index.01d7074a.js";import{M as ot,R as it,W as nt,S as rt,A as ut}from"./container.action.6541de47.js";import"./use-router-link.0eb069a4.js";import"./use-size.7aba2b5f.js";import"./render.0f74db1f.js";import"./QSpinner.8b8c0486.js";var p,d,r,l,g,x,O,D,U,ct=(U=class extends Q{constructor(t,s){super();m(this,g);m(this,O);m(this,p,void 0);m(this,d,void 0);m(this,r,void 0);m(this,l,void 0);f(this,d,void 0),f(this,p,t),this.setOptions(s),this.bindMethods(),b(this,g,x).call(this)}bindMethods(){this.mutate=this.mutate.bind(this),this.reset=this.reset.bind(this)}setOptions(t){var e;const s=this.options;this.options=o(this,p).defaultMutationOptions(t),T(s,this.options)||o(this,p).getMutationCache().notify({type:"observerOptionsUpdated",mutation:o(this,r),observer:this}),(e=o(this,r))==null||e.setOptions(this.options),(s==null?void 0:s.mutationKey)&&this.options.mutationKey&&R(s.mutationKey)!==R(this.options.mutationKey)&&this.reset()}onUnsubscribe(){var t;this.hasListeners()||(t=o(this,r))==null||t.removeObserver(this)}onMutationUpdate(t){b(this,g,x).call(this),b(this,O,D).call(this,t)}getCurrentResult(){return o(this,d)}reset(){var t;(t=o(this,r))==null||t.removeObserver(this),f(this,r,void 0),b(this,g,x).call(this),b(this,O,D).call(this)}mutate(t,s){var e;return f(this,l,s),(e=o(this,r))==null||e.removeObserver(this),f(this,r,o(this,p).getMutationCache().build(o(this,p),this.options)),o(this,r).addObserver(this),o(this,r).execute(t)}},p=new WeakMap,d=new WeakMap,r=new WeakMap,l=new WeakMap,g=new WeakSet,x=function(){var s,e;const t=(e=(s=o(this,r))==null?void 0:s.state)!=null?e:K();f(this,d,{...t,isPending:t.status==="pending",isSuccess:t.status==="success",isError:t.status==="error",isIdle:t.status==="idle",mutate:this.mutate,reset:this.reset})},O=new WeakSet,D=function(t){j.batch(()=>{var s,e,c,i,y,_,v,u;if(o(this,l)&&this.hasListeners()){const n=o(this,d).variables,h=o(this,d).context;(t==null?void 0:t.type)==="success"?((e=(s=o(this,l)).onSuccess)==null||e.call(s,t.data,n,h),(i=(c=o(this,l)).onSettled)==null||i.call(c,t.data,null,n,h)):(t==null?void 0:t.type)==="error"&&((_=(y=o(this,l)).onError)==null||_.call(y,t.error,n,h),(u=(v=o(this,l)).onSettled)==null||u.call(v,void 0,t.error,n,h))}this.listeners.forEach(n=>{n(o(this,d))})})},U);function ht(a,t){const s=t||k(),e=G(()=>s.defaultMutationOptions(L(a))),c=new ct(s,e.value),i=H(c.getCurrentResult()),y=c.subscribe(u=>{V(i,u)}),_=(u,n)=>{c.mutate(u,n).catch(()=>{})};M(e,()=>{c.setOptions(e.value)}),W(()=>{y()});const v=J(P(i));return M(()=>i.error,u=>{if(u&&B(e.value.throwOnError,[u]))throw u}),{...v,mutate:_,mutateAsync:i.mutate,reset:i.reset}}const dt=async a=>{var i;const t=$(),s=q("SHADE");var e=await s.hunt(ot,{idx:"vsg00",src:"indexCanvas",dat:{height:480}});e=await s.hunt(it,{idx:"vsg00"}),e=await s.hunt(nt,{idx:"can00",src:"vsg00"});var c=e.canBit.dat.bit;return e=await s.hunt(rt,{idx:"fce-can-00",src:"vsg00"}),e=await s.hunt(ut,{idx:"fce-can-00",dat:{bit:c}}),(i=t==null?void 0:t.proxy)==null||i.$forceUpdate(),a},lt=async a=>(console.log("sampleFunc:: ",a),q("SHADE"),a),pt={class:"q-pa-md q-gutter-sm"},mt={class:"full-height row wrap justify-start items-start content-start"},ft={key:0},yt={key:1},vt={key:2},bt=C("canvas",{id:"indexCanvas"},null,-1),gt=X({name:"GamePlay"}),Rt=Object.assign(gt,{setup(a){const t=async n=>await fetch("readNow/").then(h=>h.json()),s=async n=>await fetch("cool/").then(h=>h.json()),{isPending:e,isError:c,data:i,error:y}=N({queryKey:["dat"],queryFn:t,refetchInterval:1111});var v=N({queryFn:s,refetchInterval:1111}).data;const u=ht({mutationFn:t,onSuccess:()=>{queryClient.invalidateQueries({queryKey:["dat"]})}});return M(v,(n,h)=>{console.log(`Count changed from ${h} to ${n}`)}),z(()=>{console.log("DATA is: "+JSON.stringify(i))}),Y(async n=>{setInterval(()=>{console.log("mutate"),u.mutate({})},1111),dt("on")}),Z(async()=>{lt("on")}),tt(async()=>{}),(n,h)=>(S(),w(at,null,[C("div",pt,[st(F,{style:{background:"#FF0080",color:"white"},label:"Fuchsia"})]),C("div",mt,[E(e)?(S(),w("span",ft,"Loading...")):E(c)?(S(),w("span",yt,"Error: "+I(E(y).message),1)):E(i)?(S(),w("ul",vt,[C("pre",null,I(JSON.stringify(E(i),null,2)),1)])):et("",!0),bt])],64))}});export{Rt as default};
